{"ast":null,"code":"import _asyncToGenerator from \"/Users/pablognecco/Dropbox (Personal)/Studio/Civic/pitch/framer-motion-bubbles/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"/Users/pablognecco/Dropbox (Personal)/Studio/Civic/pitch/framer-motion-bubbles/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/pablognecco/Dropbox (Personal)/Studio/Civic/pitch/framer-motion-bubbles/src/components/CompanyQRCode.jsx\";\nfunction _regenerator() { /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */ var e, t, r = \"function\" == typeof Symbol ? Symbol : {}, n = r.iterator || \"@@iterator\", o = r.toStringTag || \"@@toStringTag\"; function i(r, n, o, i) { var c = n && n.prototype instanceof Generator ? n : Generator, u = Object.create(c.prototype); return _regeneratorDefine2(u, \"_invoke\", function (r, n, o) { var i, c, u, f = 0, p = o || [], y = !1, G = { p: 0, n: 0, v: e, a: d, f: d.bind(e, 4), d: function d(t, r) { return i = t, c = 0, u = e, G.n = r, a; } }; function d(r, n) { for (c = r, u = n, t = 0; !y && f && !o && t < p.length; t++) { var o, i = p[t], d = G.p, l = i[2]; r > 3 ? (o = l === n) && (u = i[(c = i[4]) ? 5 : (c = 3, 3)], i[4] = i[5] = e) : i[0] <= d && ((o = r < 2 && d < i[1]) ? (c = 0, G.v = n, G.n = i[1]) : d < l && (o = r < 3 || i[0] > n || n > l) && (i[4] = r, i[5] = n, G.n = l, c = 0)); } if (o || r > 1) return a; throw y = !0, n; } return function (o, p, l) { if (f > 1) throw TypeError(\"Generator is already running\"); for (y && 1 === p && d(p, l), c = p, u = l; (t = c < 2 ? e : u) || !y;) { i || (c ? c < 3 ? (c > 1 && (G.n = -1), d(c, u)) : G.n = u : G.v = u); try { if (f = 2, i) { if (c || (o = \"next\"), t = i[o]) { if (!(t = t.call(i, u))) throw TypeError(\"iterator result is not an object\"); if (!t.done) return t; u = t.value, c < 2 && (c = 0); } else 1 === c && (t = i.return) && t.call(i), c < 2 && (u = TypeError(\"The iterator does not provide a '\" + o + \"' method\"), c = 1); i = e; } else if ((t = (y = G.n < 0) ? u : r.call(n, G)) !== a) break; } catch (t) { i = e, c = 1, u = t; } finally { f = 1; } } return { value: t, done: y }; }; }(r, o, i), !0), u; } var a = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} t = Object.getPrototypeOf; var c = [][n] ? t(t([][n]())) : (_regeneratorDefine2(t = {}, n, function () { return this; }), t), u = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(c); function f(e) { return Object.setPrototypeOf ? Object.setPrototypeOf(e, GeneratorFunctionPrototype) : (e.__proto__ = GeneratorFunctionPrototype, _regeneratorDefine2(e, o, \"GeneratorFunction\")), e.prototype = Object.create(u), e; } return GeneratorFunction.prototype = GeneratorFunctionPrototype, _regeneratorDefine2(u, \"constructor\", GeneratorFunctionPrototype), _regeneratorDefine2(GeneratorFunctionPrototype, \"constructor\", GeneratorFunction), GeneratorFunction.displayName = \"GeneratorFunction\", _regeneratorDefine2(GeneratorFunctionPrototype, o, \"GeneratorFunction\"), _regeneratorDefine2(u), _regeneratorDefine2(u, o, \"Generator\"), _regeneratorDefine2(u, n, function () { return this; }), _regeneratorDefine2(u, \"toString\", function () { return \"[object Generator]\"; }), (_regenerator = function _regenerator() { return { w: i, m: f }; })(); }\nfunction _regeneratorDefine2(e, r, n, t) { var i = Object.defineProperty; try { i({}, \"\", {}); } catch (e) { i = 0; } _regeneratorDefine2 = function _regeneratorDefine(e, r, n, t) { function o(r, n) { _regeneratorDefine2(e, r, function (e) { return this._invoke(r, n, e); }); } r ? i ? i(e, r, { value: n, enumerable: !t, configurable: !t, writable: !t }) : e[r] = n : (o(\"next\", 0), o(\"throw\", 1), o(\"return\", 2)); }, _regeneratorDefine2(e, r, n, t); }\nimport React, { useState, useEffect } from 'react';\nimport { supabase } from '../config/supabase';\nimport QRCode from \"react-qr-code\";\nimport { motion } from \"framer-motion\";\nimport { getCachedData, cacheData, isOnline } from '../utils/cacheManager';\nfunction CompanyQRCode(_ref) {\n  var companyId = _ref.companyId,\n    _ref$size = _ref.size,\n    size = _ref$size === void 0 ? 128 : _ref$size;\n  var _useState = useState(null),\n    _useState2 = _slicedToArray(_useState, 2),\n    websiteUrl = _useState2[0],\n    setWebsiteUrl = _useState2[1];\n  var _useState3 = useState(true),\n    _useState4 = _slicedToArray(_useState3, 2),\n    loading = _useState4[0],\n    setLoading = _useState4[1];\n  var _useState5 = useState(null),\n    _useState6 = _slicedToArray(_useState5, 2),\n    error = _useState6[0],\n    setError = _useState6[1];\n  var cacheKey = \"company_qr_\".concat(companyId);\n  useEffect(function () {\n    if (!companyId) {\n      setLoading(false);\n      setError(\"No company ID provided.\");\n      return;\n    }\n\n    // Try cache first\n    var cachedUrl = getCachedData(cacheKey);\n    if (cachedUrl) {\n      setWebsiteUrl(cachedUrl);\n      setLoading(false);\n    }\n    var fetchCompanyUrl = /*#__PURE__*/function () {\n      var _ref2 = _asyncToGenerator(/*#__PURE__*/_regenerator().m(function _callee() {\n        var _yield$supabase$from$, data, _error, url, _t;\n        return _regenerator().w(function (_context) {\n          while (1) switch (_context.p = _context.n) {\n            case 0:\n              if (isOnline()) {\n                _context.n = 1;\n                break;\n              }\n              if (!cachedUrl) setError(\"Offline and no data in cache.\");\n              setLoading(false);\n              return _context.a(2);\n            case 1:\n              setLoading(true);\n              setError(null);\n              _context.p = 2;\n              console.log(\"[QRCode] Fetching from Supabase with id: \".concat(companyId));\n              _context.n = 3;\n              return supabase.from('companies').select('website').eq('id', companyId).maybeSingle();\n            case 3:\n              _yield$supabase$from$ = _context.v;\n              data = _yield$supabase$from$.data;\n              _error = _yield$supabase$from$.error;\n              console.log(\"[QRCode] Supabase fetch response:\", {\n                data: data,\n                error: _error\n              });\n              if (!_error) {\n                _context.n = 4;\n                break;\n              }\n              throw _error;\n            case 4:\n              url = data && data.website;\n              setWebsiteUrl(url);\n              if (url) {\n                cacheData(cacheKey, url);\n              }\n              _context.n = 6;\n              break;\n            case 5:\n              _context.p = 5;\n              _t = _context.v;\n              console.error(\"Error fetching company URL:\", _t);\n              setError(\"Failed to load company data.\");\n            case 6:\n              _context.p = 6;\n              setLoading(false);\n              return _context.f(6);\n            case 7:\n              return _context.a(2);\n          }\n        }, _callee, null, [[2, 5, 6, 7]]);\n      }));\n      return function fetchCompanyUrl() {\n        return _ref2.apply(this, arguments);\n      };\n    }();\n    fetchCompanyUrl();\n    var subscription = supabase.channel(\"company-website-\".concat(companyId)).on('postgres_changes', {\n      event: 'UPDATE',\n      schema: 'public',\n      table: 'companies',\n      filter: \"id=eq.\".concat(companyId)\n    }, function (payload) {\n      var newUrl = payload.new.website;\n      if (newUrl !== websiteUrl) {\n        setWebsiteUrl(newUrl);\n        cacheData(cacheKey, newUrl);\n      }\n    }).subscribe();\n    return function () {\n      supabase.removeChannel(subscription);\n    };\n  }, [companyId, websiteUrl, cacheKey]);\n  if (loading) {\n    return /*#__PURE__*/React.createElement(motion.div, {\n      initial: {\n        opacity: 0\n      },\n      animate: {\n        opacity: 1\n      },\n      style: {\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        width: size,\n        height: size,\n        backgroundColor: 'var(--bg-secondary)',\n        borderRadius: '8px',\n        color: 'var(--text-secondary)'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 9\n      }\n    }, \"Loading...\");\n  }\n  if (error) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        color: 'red',\n        width: size,\n        height: size,\n        textAlign: 'center'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 12\n      }\n    }, error);\n  }\n  if (!websiteUrl) {\n    return /*#__PURE__*/React.createElement(motion.div, {\n      initial: {\n        opacity: 0\n      },\n      animate: {\n        opacity: 1\n      },\n      style: {\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n        justifyContent: 'center',\n        width: size,\n        height: size,\n        backgroundColor: 'var(--bg-secondary)',\n        borderRadius: '8px',\n        color: 'var(--text-secondary)',\n        textAlign: 'center',\n        padding: '10px',\n        fontSize: '14px'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 9\n      }\n    }, \"No website URL available.\");\n  }\n  return /*#__PURE__*/React.createElement(motion.div, {\n    initial: {\n      opacity: 0,\n      scale: 0.8\n    },\n    animate: {\n      opacity: 1,\n      scale: 1\n    },\n    transition: {\n      duration: 0.5\n    },\n    style: {\n      background: 'white',\n      padding: '16px',\n      borderRadius: '8px',\n      display: 'inline-block',\n      width: size,\n      height: size\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(QRCode, {\n    value: websiteUrl,\n    size: size - 32 // Account for padding\n    ,\n    style: {\n      width: \"100%\",\n      height: \"auto\"\n    },\n    viewBox: \"0 0 \".concat(size - 32, \" \").concat(size - 32),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 7\n    }\n  }));\n}\nexport default CompanyQRCode;","map":{"version":3,"names":["e","t","r","Symbol","n","iterator","o","toStringTag","i","c","prototype","Generator","u","Object","create","_regeneratorDefine2","f","p","y","G","v","a","d","bind","length","l","TypeError","call","done","value","return","GeneratorFunction","GeneratorFunctionPrototype","getPrototypeOf","setPrototypeOf","__proto__","displayName","_regenerator","w","m","defineProperty","_regeneratorDefine","_invoke","enumerable","configurable","writable","React","useState","useEffect","supabase","QRCode","motion","getCachedData","cacheData","isOnline","CompanyQRCode","_ref","companyId","_ref$size","size","_useState","_useState2","_slicedToArray","websiteUrl","setWebsiteUrl","_useState3","_useState4","loading","setLoading","_useState5","_useState6","error","setError","cacheKey","concat","cachedUrl","fetchCompanyUrl","_ref2","_asyncToGenerator","_callee","_yield$supabase$from$","data","_error","url","_t","_context","console","log","from","select","eq","maybeSingle","website","apply","arguments","subscription","channel","on","event","schema","table","filter","payload","newUrl","new","subscribe","removeChannel","createElement","div","initial","opacity","animate","style","display","alignItems","justifyContent","width","height","backgroundColor","borderRadius","color","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","textAlign","flexDirection","padding","fontSize","scale","transition","duration","background","viewBox"],"sources":["/Users/pablognecco/Dropbox (Personal)/Studio/Civic/pitch/framer-motion-bubbles/src/components/CompanyQRCode.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { supabase } from '../config/supabase';\nimport QRCode from \"react-qr-code\";\nimport { motion } from \"framer-motion\";\nimport { getCachedData, cacheData, isOnline } from '../utils/cacheManager';\n\nfunction CompanyQRCode({ companyId, size = 128 }) {\n  const [websiteUrl, setWebsiteUrl] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const cacheKey = `company_qr_${companyId}`;\n\n  useEffect(() => {\n    if (!companyId) {\n      setLoading(false);\n      setError(\"No company ID provided.\");\n      return;\n    }\n\n    // Try cache first\n    const cachedUrl = getCachedData(cacheKey);\n    if (cachedUrl) {\n      setWebsiteUrl(cachedUrl);\n      setLoading(false);\n    }\n\n    const fetchCompanyUrl = async () => {\n      if (!isOnline()) {\n        if (!cachedUrl) setError(\"Offline and no data in cache.\");\n        setLoading(false);\n        return;\n      }\n\n      setLoading(true);\n      setError(null);\n      try {\n        console.log(`[QRCode] Fetching from Supabase with id: ${companyId}`);\n\n        const { data, error } = await supabase\n          .from('companies')\n          .select('website')\n          .eq('id', companyId)\n          .maybeSingle();\n\n        console.log(\"[QRCode] Supabase fetch response:\", { data, error });\n\n        if (error) throw error;\n        \n        const url = data && data.website;\n        setWebsiteUrl(url);\n        if (url) {\n          cacheData(cacheKey, url);\n        }\n\n      } catch (err) {\n        console.error(\"Error fetching company URL:\", err);\n        setError(\"Failed to load company data.\");\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchCompanyUrl();\n\n    const subscription = supabase\n      .channel(`company-website-${companyId}`)\n      .on(\n        'postgres_changes',\n        { \n          event: 'UPDATE', \n          schema: 'public', \n          table: 'companies',\n          filter: `id=eq.${companyId}`\n        },\n        (payload) => {\n          const newUrl = payload.new.website;\n          if (newUrl !== websiteUrl) {\n            setWebsiteUrl(newUrl);\n            cacheData(cacheKey, newUrl);\n          }\n        }\n      )\n      .subscribe();\n\n    return () => {\n      supabase.removeChannel(subscription);\n    };\n  }, [companyId, websiteUrl, cacheKey]);\n\n  if (loading) {\n    return (\n        <motion.div\n            initial={{ opacity: 0 }}\n            animate={{ opacity: 1 }}\n            style={{ \n                display: 'flex', \n                alignItems: 'center', \n                justifyContent: 'center', \n                width: size, \n                height: size,\n                backgroundColor: 'var(--bg-secondary)',\n                borderRadius: '8px',\n                color: 'var(--text-secondary)'\n            }}\n        >\n            Loading...\n        </motion.div>\n    );\n  }\n\n  if (error) {\n    return <div style={{ color: 'red', width: size, height: size, textAlign: 'center' }}>{error}</div>;\n  }\n\n  if (!websiteUrl) {\n    return (\n        <motion.div\n        initial={{ opacity: 0 }}\n        animate={{ opacity: 1 }}\n        style={{ \n            display: 'flex', \n            flexDirection: 'column',\n            alignItems: 'center', \n            justifyContent: 'center', \n            width: size, \n            height: size,\n            backgroundColor: 'var(--bg-secondary)',\n            borderRadius: '8px',\n            color: 'var(--text-secondary)',\n            textAlign: 'center',\n            padding: '10px',\n            fontSize: '14px'\n        }}\n    >\n        No website URL available.\n    </motion.div>\n    )\n  }\n\n  return (\n    <motion.div\n      initial={{ opacity: 0, scale: 0.8 }}\n      animate={{ opacity: 1, scale: 1 }}\n      transition={{ duration: 0.5 }}\n      style={{ \n          background: 'white', \n          padding: '16px', \n          borderRadius: '8px', \n          display: 'inline-block',\n          width: size,\n          height: size\n        }}\n    >\n      <QRCode\n        value={websiteUrl}\n        size={size - 32} // Account for padding\n        style={{ width: \"100%\", height: \"auto\" }}\n        viewBox={`0 0 ${size-32} ${size-32}`}\n      />\n    </motion.div>\n  );\n}\n\nexport default CompanyQRCode;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}